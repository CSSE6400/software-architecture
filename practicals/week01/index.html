Last Updated on 2023/02/12      

<?xml version="1.0" encoding="iso-8859-1" ?> 
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">  
<!--http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd-->  
<html xmlns="http://www.w3.org/1999/xhtml"  
> 
<head> <title>Application Programming Interfaces (APIs)</title> 
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /> 
<meta name="generator" content="TeX4ht (https://tug.org/tex4ht/)" /> 
<meta name="originator" content="TeX4ht (https://tug.org/tex4ht/)" /> 
<!-- fn-in,html,htex4ht,xhtml --> 
<meta name="src" content="main.tex" /> 
<link rel="stylesheet" type="text/css" href="main.css" /> 
<link rel="stylesheet" href="https://latex.now.sh/style.css"> 
<link rel="stylesheet" href="/notes.css"> 
<style>body {max-width: 100ch;} 
dl dd {text-align: left}</style> 
</head><body 
>
   <div class="maketitle"><a 
 id="Q1-1-1"></a>
_________________________________________________________________________________________________
<h2 class="titleHead">Application Programming Interfaces (APIs)</h2>                            Software Architecture
   <div class="date" >February 20, 2023</div>                                                                                                                                                 <div class="author" >Brae
Webb</div>
______________________________________________________________________________________________
   </div>
   <hr class="figure" /><div class="figure" 
>
                                                                                                    
                                                                                                    
<a 
 id="x1-2r1"></a>
                                                                                                    
                                                                                                    
<!--l. 20--><p class="noindent" ><a 
href="https://www.oreilly.com/library/view/designing-data-intensive-applications/9781491903063/ch04.html" ><img 
src="images/communication.png" alt="PIC"  
width="525" height="525"  /> </a>
<br /> </p><div class="caption" 
><span class="id">Figure&#x00A0;1: </span><span  
class="content">A map of communication techniques from Designing Data-Intensive Applications <span class="cite">[<a 
href="#Xdata-intensive">1</a>]</span>.</span></div><!--tex4ht:label?: x1-2r1 -->
                                                                                                    
                                                                                                    
   </div><hr class="endfigure" />
   <h3 class="sectionHead"><span class="titlemark">1    </span> <a 
 id="x1-10001"></a>This Week</h3>
<!--l. 25--><p class="noindent" >This week our goal is to: </p>
      <ul class="itemize1">
      <li class="itemize">
      <!--l. 27--><p class="noindent" >explore the various techniques developers use to communicate between components in distributed
      systems;
      </p></li>
      <li class="itemize">
      <!--l. 28--><p class="noindent" >Getting started with our github practical respository;
      </p></li>
      <li class="itemize">
      <!--l. 29--><p class="noindent" >build a skeleton of a todo app using the Flask framework;</p></li></ul>
<!--l. 36--><p class="noindent" >
</p>
   <h3 class="sectionHead"><span class="titlemark">2    </span> <a 
 id="x1-20002"></a>Communication</h3>
<!--l. 37--><p class="noindent" >The world relies (heavily) on distributed systems, there is no machine in the world powerful enough to process the requests Google
receives every second<span class="footnote-mark"><a 
href="#fn1x0" id="fn1x0-bk"><sup class="textsuperscript">1</sup></a></span><a 
 id="x1-2001f1"></a>.
Even systems of a much smaller scale can still need many hundreds or thousands of machines working
seamlessly together. This inter-machine teamwork requires machines to know how to talk to each other. For the
practical this week we will look at APIs as a mechanism for communication.
</p><!--l. 44--><p class="noindent" >
</p>
   <h3 class="sectionHead"><span class="titlemark">3    </span> <a 
 id="x1-30003"></a>Data Formats</h3>
<!--l. 45--><p class="noindent" >Communication requires an exchange of information. On computer systems information is stored at runtime in
memory as primitive data which your programming language can interpret; bytes, integers, strings, etc. In
object-oriented languages, primitive data is wrapped up into useful packages: objects. If we want this
information to escape the confines of our programming language runtime, we need to package it up in a
language-independent format. For a format to be language-independent we just need many languages to
implement an encoding and decoding mechanism for the format. We have several language-independent
formats available but a few defacto standards.
</p><!--l. 55--><p class="noindent" >
</p>
   <h4 class="subsectionHead"><span class="titlemark">3.1    </span> <a 
 id="x1-40003.1"></a>XML</h4>
                                                                                                    
                                                                                                    
<!--l. 56--><p class="noindent" >Extensible Markup Language (XML) is one of the most widely used language-independent
formats. The use cases of XML are extensive, it is the <a 
href="https://en.wikipedia.org/wiki/List_of_XML_markup_languages" >foundation for many popular
utilities</a><span class="footnote-mark"><a 
href="#fn2x0" id="fn2x0-bk"><sup class="textsuperscript">2</sup></a></span><a 
 id="x1-4001f2"></a>,
such as SVG file formats, SAML authentication, RSS feeds, and ePub books.
</p><!--l. 61--><p class="indent" >   </p><div class="framedenv" id="code-1">
<!--l. 61--><p class="indent" >   <span 
class="ectt-1200">» cat csse6400.xml</span> </p></div>   <div class="framedenv" id="code-1"><!--l. 61--><pre class="listings" id="listing-1"><span class="label"><a 
 id="x1-4003r1"></a><span 
class="Cabin-Regular-tlf-t1-x-x-60">1</span></span><span style="color:#000000"><span 
class="ectt-1200">&#x003C;</span></span><span style="color:#000000"><span 
class="ectt-1200">root</span></span><span style="color:#000000"><span 
class="ectt-1200">&#x003E;</span></span> 
<span class="label"><a 
 id="x1-4004r2"></a><span 
class="Cabin-Regular-tlf-t1-x-x-60">2</span></span><span 
class="ectt-1200">&#x00A0;</span><span style="color:#000000"><span 
class="ectt-1200">&#x003C;</span></span><span style="color:#000000"><span 
class="ectt-1200">item</span></span><span style="color:#000000"><span 
class="ectt-1200">&#x003E;</span></span> 
<span class="label"><a 
 id="x1-4005r3"></a><span 
class="Cabin-Regular-tlf-t1-x-x-60">3</span></span><span 
class="ectt-1200">&#x00A0;</span><span 
class="ectt-1200">&#x00A0;</span><span 
class="ectt-1200">&#x00A0;</span><span style="color:#000000"><span 
class="ectt-1200">&#x003C;</span></span><span style="color:#000000"><span 
class="ectt-1200">key</span></span><span style="color:#000000"><span 
class="ectt-1200">&#x003E;</span></span><span style="color:#000000"><span 
class="ectt-1200">Course</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ectt-1200">Code</span></span><span style="color:#000000"><span 
class="ectt-1200">&#x003C;</span></span><span style="color:#000000"><span 
class="ectt-1200">/</span></span><span style="color:#000000"><span 
class="ectt-1200">key</span></span><span style="color:#000000"><span 
class="ectt-1200">&#x003E;</span></span> 
<span class="label"><a 
 id="x1-4006r4"></a><span 
class="Cabin-Regular-tlf-t1-x-x-60">4</span></span><span 
class="ectt-1200">&#x00A0;</span><span 
class="ectt-1200">&#x00A0;</span><span 
class="ectt-1200">&#x00A0;</span><span style="color:#000000"><span 
class="ectt-1200">&#x003C;</span></span><span style="color:#000000"><span 
class="ectt-1200">value</span></span><span style="color:#000000"><span 
class="ectt-1200">&#x003E;</span></span><span style="color:#000000"><span 
class="ectt-1200">CSSE6400</span></span><span style="color:#000000"><span 
class="ectt-1200">&#x003C;</span></span><span style="color:#000000"><span 
class="ectt-1200">/</span></span><span style="color:#000000"><span 
class="ectt-1200">value</span></span><span style="color:#000000"><span 
class="ectt-1200">&#x003E;</span></span> 
<span class="label"><a 
 id="x1-4007r5"></a><span 
class="Cabin-Regular-tlf-t1-x-x-60">5</span></span><span 
class="ectt-1200">&#x00A0;</span><span style="color:#000000"><span 
class="ectt-1200">&#x003C;</span></span><span style="color:#000000"><span 
class="ectt-1200">/</span></span><span style="color:#000000"><span 
class="ectt-1200">item</span></span><span style="color:#000000"><span 
class="ectt-1200">&#x003E;</span></span> 
<span class="label"><a 
 id="x1-4008r6"></a><span 
class="Cabin-Regular-tlf-t1-x-x-60">6</span></span><span 
class="ectt-1200">&#x00A0;</span><span style="color:#000000"><span 
class="ectt-1200">&#x003C;</span></span><span style="color:#000000"><span 
class="ectt-1200">item</span></span><span style="color:#000000"><span 
class="ectt-1200">&#x003E;</span></span> 
<span class="label"><a 
 id="x1-4009r7"></a><span 
class="Cabin-Regular-tlf-t1-x-x-60">7</span></span><span 
class="ectt-1200">&#x00A0;</span><span 
class="ectt-1200">&#x00A0;</span><span 
class="ectt-1200">&#x00A0;</span><span style="color:#000000"><span 
class="ectt-1200">&#x003C;</span></span><span style="color:#000000"><span 
class="ectt-1200">key</span></span><span style="color:#000000"><span 
class="ectt-1200">&#x003E;</span></span><span style="color:#000000"><span 
class="ectt-1200">Course</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ectt-1200">Title</span></span><span style="color:#000000"><span 
class="ectt-1200">&#x003C;</span></span><span style="color:#000000"><span 
class="ectt-1200">/</span></span><span style="color:#000000"><span 
class="ectt-1200">key</span></span><span style="color:#000000"><span 
class="ectt-1200">&#x003E;</span></span> 
<span class="label"><a 
 id="x1-4010r8"></a><span 
class="Cabin-Regular-tlf-t1-x-x-60">8</span></span><span 
class="ectt-1200">&#x00A0;</span><span 
class="ectt-1200">&#x00A0;</span><span 
class="ectt-1200">&#x00A0;</span><span style="color:#000000"><span 
class="ectt-1200">&#x003C;</span></span><span style="color:#000000"><span 
class="ectt-1200">value</span></span><span style="color:#000000"><span 
class="ectt-1200">&#x003E;</span></span><span style="color:#000000"><span 
class="ectt-1200">Software</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ectt-1200">Architecture</span></span><span style="color:#000000"><span 
class="ectt-1200">&#x003C;</span></span><span style="color:#000000"><span 
class="ectt-1200">/</span></span><span style="color:#000000"><span 
class="ectt-1200">value</span></span><span style="color:#000000"><span 
class="ectt-1200">&#x003E;</span></span> 
<span class="label"><a 
 id="x1-4011r9"></a><span 
class="Cabin-Regular-tlf-t1-x-x-60">9</span></span><span 
class="ectt-1200">&#x00A0;</span><span style="color:#000000"><span 
class="ectt-1200">&#x003C;</span></span><span style="color:#000000"><span 
class="ectt-1200">/</span></span><span style="color:#000000"><span 
class="ectt-1200">item</span></span><span style="color:#000000"><span 
class="ectt-1200">&#x003E;</span></span> 
<span class="label"><a 
 id="x1-4012r10"></a><span 
class="Cabin-Regular-tlf-t1-x-x-60">10</span></span><span style="color:#000000"><span 
class="ectt-1200">&#x003C;</span></span><span style="color:#000000"><span 
class="ectt-1200">/</span></span><span style="color:#000000"><span 
class="ectt-1200">root</span></span><span style="color:#000000"><span 
class="ectt-1200">&#x003E;</span></span>
 
<span class="label"><a 
 id="x1-4013r11"></a><span 
class="Cabin-Regular-tlf-t1-x-x-60">11 </span></span></pre>
   </div>
<!--l. 74--><p class="indent" >   XML is designed as a markup language, similar to HTML, it is not designed as a data exchange
format. Developers have come to point out that the verbosity and complexity of XML, compared
to alternatives such as JSON, are deal breakers. While XML can be used as a data exchange format
it is not designed for it, and as a result APIs built around XML as a data format are becoming less
common.
</p><!--l. 81--><p class="noindent" >
</p>
   <h4 class="subsectionHead"><span class="titlemark">3.2    </span> <a 
 id="x1-50003.2"></a>JSON</h4>
<!--l. 82--><p class="noindent" >JavaScript Object Notation (JSON) is quickly replacing XML as the data format used in APIs. As you will
note, it is more succinct and communicates the important points to a human reader better. The
popularity of JSON is largely due to its compatibility with JavaScript which has taken over web
development. JSON is the map-esque data type in JavaScript. Detractors of JSON claim that its
main disadvantage compared to XML is that it lacks a schema. However, <a 
href="https://json-schema.org/" >schemas are possible in
JSON</a><span class="footnote-mark"><a 
href="#fn3x0" id="fn3x0-bk"><sup class="textsuperscript">3</sup></a></span><a 
 id="x1-5001f3"></a>,
they are optional, just as in XML, but are used much less than in XML.
</p><!--l. 90--><p class="indent" >   </p><div class="framedenv" id="code-1">
<!--l. 90--><p class="indent" >   <span 
class="ectt-1200">» cat csse6400.json</span> </p></div>   <div class="framedenv" id="code-1"><!--l. 90--><pre class="listings" id="listing-2"><span class="label"><a 
 id="x1-5003r1"></a><span 
class="Cabin-Regular-tlf-t1-x-x-60">1</span></span><span style="color:#000000"><span 
class="ectt-1200">{</span></span> 
<span class="label"><a 
 id="x1-5004r2"></a><span 
class="Cabin-Regular-tlf-t1-x-x-60">2</span></span><span 
class="ectt-1200">&#x00A0;</span><span 
class="ectt-1200">&#x00A0;</span><span 
class="ectt-1200">&#x00A0;</span><span style="color:#000000"><span 
class="ectt-1200">"</span></span><span style="color:#000000"><span 
class="ectt-1200">Course</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ectt-1200">Code</span></span><span style="color:#000000"><span 
class="ectt-1200">"</span></span><span style="color:#000000"><span 
class="ectt-1200">:</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ectt-1200">"</span></span><span style="color:#000000"><span 
class="ectt-1200">CSSE6400</span></span><span style="color:#000000"><span 
class="ectt-1200">"</span></span><span style="color:#000000"><span 
class="ectt-1200">,</span></span> 
<span class="label"><a 
 id="x1-5005r3"></a><span 
class="Cabin-Regular-tlf-t1-x-x-60">3</span></span><span 
class="ectt-1200">&#x00A0;</span><span 
class="ectt-1200">&#x00A0;</span><span 
class="ectt-1200">&#x00A0;</span><span style="color:#000000"><span 
class="ectt-1200">"</span></span><span style="color:#000000"><span 
class="ectt-1200">Course</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ectt-1200">Title</span></span><span style="color:#000000"><span 
class="ectt-1200">"</span></span><span style="color:#000000"><span 
class="ectt-1200">:</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ectt-1200">"</span></span><span style="color:#000000"><span 
class="ectt-1200">Software</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ectt-1200">Architecture</span></span><span style="color:#000000"><span 
class="ectt-1200">"</span></span> 
<span class="label"><a 
 id="x1-5006r4"></a><span 
class="Cabin-Regular-tlf-t1-x-x-60">4</span></span><span style="color:#000000"><span 
class="ectt-1200">}</span></span>
 
<span class="label"><a 
 id="x1-5007r5"></a><span 
class="Cabin-Regular-tlf-t1-x-x-60">5 </span></span></pre>
   </div>
<!--l. 97--><p class="noindent" >
</p>
   <h4 class="subsectionHead"><span class="titlemark">3.3    </span> <a 
 id="x1-60003.3"></a>MessagePack</h4>
<!--l. 98--><p class="noindent" >It should not be a surprise that the JSON and XML formats are not resource efficient. Nowadays, we are less
concerned with squeezing data into a tiny amount of data on the hard drive as our hard drives are
massive. However, we are often concerned with how much data is being transmitted via network
communication.
</p><!--l. 102--><p class="indent" >   In the example JSON snippet above, we use 78 bytes to encode the message.
<a 
href="https://msgpack.org/" >MessagePack</a><span class="footnote-mark"><a 
href="#fn4x0" id="fn4x0-bk"><sup class="textsuperscript">4</sup></a></span><a 
 id="x1-6001f4"></a>
is a standard for encoding and decoding JSON. When encoding our original JSON snippet with MessagePack we
shrink to just 57 bytes. At our scale, a negligible difference, but at the scale of terrabytes or petabytes, a significant
consideration.
</p><!--l. 109--><p class="indent" >   </p><div class="framedenv" id="code-1">
<!--l. 109--><p class="indent" >   <span 
class="ectt-1200">» cat csse6400.msgpack</span> </p></div>   <div class="framedenv" id="code-1"><!--l. 109--><pre class="listings" id="listing-3"><span class="label"><a 
 id="x1-6003r1"></a><span 
class="Cabin-Regular-tlf-t1-x-x-60">1</span></span><span style="color:#000000"><span 
class="ectt-1200">82</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ectt-1200">ab</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ectt-1200">43</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ectt-1200">6</span></span><span style="color:#000000"><span 
class="ectt-1200">f</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ectt-1200">75</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ectt-1200">72</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ectt-1200">73</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ectt-1200">65</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ectt-1200">20</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ectt-1200">43</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ectt-1200">6</span></span><span style="color:#000000"><span 
class="ectt-1200">f</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ectt-1200">64</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ectt-1200">65</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ectt-1200">a8</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ectt-1200">43</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ectt-1200">53</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ectt-1200">53</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ectt-1200">45</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ectt-1200">36</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ectt-1200">34</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ectt-1200">30</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ectt-1200">30</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ectt-1200">ac</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ectt-1200">43</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ectt-1200">6</span></span><span style="color:#000000"><span 
class="ectt-1200">f</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ectt-1200">75</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ectt-1200">72</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ectt-1200">73</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ectt-1200">65</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ectt-1200">20</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ectt-1200">54</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ectt-1200">69</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ectt-1200">74</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ectt-1200">6</span></span><span style="color:#000000"><span 
class="ectt-1200">c</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ectt-1200">65</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ectt-1200">b5</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ectt-1200">53</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ectt-1200">6</span></span><span style="color:#000000"><span 
class="ectt-1200">f</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ectt-1200">66</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ectt-1200">74</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ectt-1200">77</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ectt-1200">61</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ectt-1200">72</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ectt-1200">65</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ectt-1200">20</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ectt-1200">41</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ectt-1200">72</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ectt-1200">63</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ectt-1200">68</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ectt-1200">69</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ectt-1200">74</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ectt-1200">65</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ectt-1200">63</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ectt-1200">74</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ectt-1200">75</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ectt-1200">72</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ectt-1200">65</span></span>
 
<span class="label"><a 
 id="x1-6004r2"></a><span 
class="Cabin-Regular-tlf-t1-x-x-60">2 </span></span></pre>
   </div>
   <div class="tcolorbox tcolorbox" id="tcolobox-1">       
<div class="tcolorbox-title">
                                                                                                    
                                                                                                    
<!--l. 118--><p class="indent" >   Info</p></div> 
<div class="tcolorbox-content"><!--l. 118--><p class="noindent" >For                              those                              interested,                              0x82                              specifies
a map type (0x80) with two fields (0x02). Followed by a string type (0xa0) of size eleven (0x0b).
The rest is left as an exercise:     <a 
href="https://github.com/msgpack/msgpack/blob/master/spec.md" class="url" ><span 
class="ectt-1200">https://github.com/msgpack/msgpack/blob/master/spec.md</span></a>.
</p> 
</div> 
</div>
<!--l. 120--><p class="noindent" >
</p>
   <h4 class="subsectionHead"><span class="titlemark">3.4    </span> <a 
 id="x1-70003.4"></a>Protobuf</h4>
<!--l. 121--><p class="noindent" >Protocol Buffers (protobuf) is another type of binary encoding. However, unlike MessagePack, the format was
designed from scratch, allowing a more compact and better designed format. Protobufs require all data to be
defined by a schema. For example:
</p><!--l. 127--><p class="indent" >   </p><div class="framedenv" id="code-1">
<!--l. 127--><p class="indent" >   <span 
class="ectt-1200">» cat csse6400.proto</span> </p></div>   <div class="framedenv" id="code-1"><!--l. 127--><pre class="listings" id="listing-4"><span class="label"><a 
 id="x1-7001r1"></a><span 
class="Cabin-Regular-tlf-t1-x-x-60">1</span></span><span style="color:#006699"><span 
class="ectt-1200">message</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ectt-1200">Course</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ectt-1200">{</span></span> 
<span class="label"><a 
 id="x1-7002r2"></a><span 
class="Cabin-Regular-tlf-t1-x-x-60">2</span></span><span 
class="ectt-1200">&#x00A0;</span><span 
class="ectt-1200">&#x00A0;</span><span 
class="ectt-1200">&#x00A0;</span><span style="color:#006699"><span 
class="ectt-1200">required</span></span><span style="color:#000000"> </span><span style="color:#006699"><span 
class="ectt-1200">string</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ectt-1200">code</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ectt-1200">=</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ectt-1200">1;</span></span> 
<span class="label"><a 
 id="x1-7003r3"></a><span 
class="Cabin-Regular-tlf-t1-x-x-60">3</span></span><span 
class="ectt-1200">&#x00A0;</span><span 
class="ectt-1200">&#x00A0;</span><span 
class="ectt-1200">&#x00A0;</span><span style="color:#006699"><span 
class="ectt-1200">required</span></span><span style="color:#000000"> </span><span style="color:#006699"><span 
class="ectt-1200">string</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ectt-1200">name</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ectt-1200">=</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ectt-1200">2;</span></span> 
<span class="label"><a 
 id="x1-7004r4"></a><span 
class="Cabin-Regular-tlf-t1-x-x-60">4</span></span><span style="color:#000000"><span 
class="ectt-1200">}</span></span>
 
<span class="label"><a 
 id="x1-7005r5"></a><span 
class="Cabin-Regular-tlf-t1-x-x-60">5 </span></span></pre>
   </div>
<!--l. 134--><p class="indent" >   Protobufs differ from XML, JSON, and MessagePack via their method of integration. In the previous
examples, your language would have a library to encode and decode the data format into and out of your
language&#8217;s type system. With protobuf, an external tool, <span 
class="Cabin-Italic-tlf-t1-x-x-120">protoc</span>, takes the schema and generates a
model of the schema in your target language. This gives every language a native method to interact
with the data format, it often means that developers do not need to be aware of the underlying
encoding.
</p><!--l. 142--><p class="indent" >   </p><div class="framedenv" id="code-1">
<!--l. 142--><p class="indent" >   <span 
class="ectt-1200">» cat csse6400.java</span> </p></div>   <div class="framedenv" id="code-1"><!--l. 142--><pre class="listings" id="listing-5"><span class="label"><a 
 id="x1-7006r1"></a><span 
class="Cabin-Regular-tlf-t1-x-x-60">1</span></span><span style="color:#000000"><span 
class="ectt-1200">Course</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ectt-1200">softarch</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ectt-1200">=</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ectt-1200">Course</span></span><span style="color:#000000"><span 
class="ectt-1200">.</span></span><span style="color:#000000"><span 
class="ectt-1200">newBuilder</span></span><span style="color:#000000"><span 
class="ectt-1200">()</span></span> 
<span class="label"><a 
 id="x1-7007r2"></a><span 
class="Cabin-Regular-tlf-t1-x-x-60">2</span></span><span 
class="ectt-1200">&#x00A0;</span><span 
class="ectt-1200">&#x00A0;</span><span 
class="ectt-1200">&#x00A0;</span><span style="color:#000000"><span 
class="ectt-1200">.</span></span><span style="color:#000000"><span 
class="ectt-1200">setCode</span></span><span style="color:#000000"><span 
class="ectt-1200">(</span></span><span style="color:#669900"><span 
class="ectt-1200">"</span></span><span style="color:#669900"><span 
class="ectt-1200">CSSE6400</span></span><span style="color:#669900"><span 
class="ectt-1200">"</span></span><span style="color:#000000"><span 
class="ectt-1200">)</span></span> 
<span class="label"><a 
 id="x1-7008r3"></a><span 
class="Cabin-Regular-tlf-t1-x-x-60">3</span></span><span 
class="ectt-1200">&#x00A0;</span><span 
class="ectt-1200">&#x00A0;</span><span 
class="ectt-1200">&#x00A0;</span><span style="color:#000000"><span 
class="ectt-1200">.</span></span><span style="color:#000000"><span 
class="ectt-1200">setName</span></span><span style="color:#000000"><span 
class="ectt-1200">(</span></span><span style="color:#669900"><span 
class="ectt-1200">"</span></span><span style="color:#669900"><span 
class="ectt-1200">Software</span></span><span style="color:#669900"> </span><span style="color:#669900"><span 
class="ectt-1200">Architecture</span></span><span style="color:#669900"><span 
class="ectt-1200">"</span></span><span style="color:#000000"><span 
class="ectt-1200">)</span></span> 
<span class="label"><a 
 id="x1-7009r4"></a><span 
class="Cabin-Regular-tlf-t1-x-x-60">4</span></span><span 
class="ectt-1200">&#x00A0;</span><span 
class="ectt-1200">&#x00A0;</span><span 
class="ectt-1200">&#x00A0;</span><span style="color:#000000"><span 
class="ectt-1200">.</span></span><span style="color:#000000"><span 
class="ectt-1200">build</span></span><span style="color:#000000"><span 
class="ectt-1200">()</span></span><span style="color:#000000"><span 
class="ectt-1200">;</span></span> 
<span class="label"><a 
 id="x1-7010r5"></a><span 
class="Cabin-Regular-tlf-t1-x-x-60">5</span></span><span style="color:#000000"><span 
class="ectt-1200">output</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ectt-1200">=</span></span><span style="color:#000000"> </span><span style="color:#006699"><span 
class="ectt-1200">new</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ectt-1200">FileOutputStream</span></span><span style="color:#000000"><span 
class="ectt-1200">(</span></span><span style="color:#000000"><span 
class="ectt-1200">args</span></span><span style="color:#000000"><span 
class="ectt-1200">[0])</span></span><span style="color:#000000"><span 
class="ectt-1200">;</span></span> 
<span class="label"><a 
 id="x1-7011r6"></a><span 
class="Cabin-Regular-tlf-t1-x-x-60">6</span></span><span style="color:#000000"><span 
class="ectt-1200">softarch</span></span><span style="color:#000000"><span 
class="ectt-1200">.</span></span><span style="color:#000000"><span 
class="ectt-1200">writeTo</span></span><span style="color:#000000"><span 
class="ectt-1200">(</span></span><span style="color:#000000"><span 
class="ectt-1200">output</span></span><span style="color:#000000"><span 
class="ectt-1200">)</span></span><span style="color:#000000"><span 
class="ectt-1200">;</span></span>
 
<span class="label"><a 
 id="x1-7012r7"></a><span 
class="Cabin-Regular-tlf-t1-x-x-60">7 </span></span></pre>
   </div>
<!--l. 151--><p class="noindent" >
</p>
   <h3 class="sectionHead"><span class="titlemark">4    </span> <a 
 id="x1-80004"></a>Application Programming Interfaces</h3>
<!--l. 152--><p class="noindent" >It is worth being aware of a few of the common API paradigms available. We outline a few but note that in this
course we will primarily focus on REST APIs. This is only an indication that they are better understood by course
staff, not their superiority.
</p><!--l. 157--><p class="noindent" >
</p>
   <h4 class="subsectionHead"><span class="titlemark">4.1    </span> <a 
 id="x1-90004.1"></a>XML-RPC</h4>
<!--l. 158--><p class="noindent" >XML-RPC was one of the first API standards. It is a Remote Procedure Call (RPC) based API which communicates
via XML. It is not a commonly used standard anymore.
</p><!--l. 162--><p class="noindent" >
</p>
   <h4 class="subsectionHead"><span class="titlemark">4.2    </span> <a 
 id="x1-100004.2"></a>SOAP</h4>
<!--l. 163--><p class="noindent" >After XML-RPC came SOAP. SOAP was impactful for service-oriented (now microservices) architectures but has
largely fallen out of favour in-place of REST APIs. We do not cover SOAP in any meaningful depth due to its
increasing irrelevance and complexity.
                                                                                                    
                                                                                                    
</p><!--l. 167--><p class="noindent" >
</p>
   <h4 class="subsectionHead"><span class="titlemark">4.3    </span> <a 
 id="x1-110004.3"></a>REST</h4>
<!--l. 168--><p class="noindent" >REST is not a standard like SOAP once was, instead REST is an architectural style guided by a set of architectural
constraints that allows us to build flexible APIs.
</p><!--l. 171--><p class="indent" >   In this course we do not dive too deep into the architectural style and instead opt for a more surface level
understanding. It is a common mistake for people to refer to REST as a HTTP based web service API, they are
different. In this course we chose to embrace this mistake and often refer to a HTTP based web service API when
saying REST.
</p><!--l. 176--><p class="noindent" >An example of this type of API might be:
      </p><dl class="description"><dt class="description">
      <!--l. 178--><p class="noindent" >
<span 
class="Cabin-Bold-tlf-t1-x-x-120">GET /api/v1/todo</span> </p></dt><dd 
class="description">
      <!--l. 178--><p class="noindent" >List all tasks todo
      </p></dd><dt class="description">
      <!--l. 179--><p class="noindent" >
<span 
class="Cabin-Bold-tlf-t1-x-x-120">POST /api/v1/todo</span> </p></dt><dd 
class="description">
      <!--l. 179--><p class="noindent" >Create a task todo
      </p></dd><dt class="description">
      <!--l. 180--><p class="noindent" >
<span 
class="Cabin-Bold-tlf-t1-x-x-120">GET /api/v1/todo/id</span> </p></dt><dd 
class="description">
      <!--l. 180--><p class="noindent" >List all details about a certain task
      </p></dd><dt class="description">
      <!--l. 181--><p class="noindent" >
<span 
class="Cabin-Bold-tlf-t1-x-x-120">PUT /api/v1/todo/id</span> </p></dt><dd 
class="description">
      <!--l. 181--><p class="noindent" >Update the fields of an existing task
      </p></dd><dt class="description">
      <!--l. 182--><p class="noindent" >
<span 
class="Cabin-Bold-tlf-t1-x-x-120">DELETE /api/v1/todo/id</span> </p></dt><dd 
class="description">
      <!--l. 182--><p class="noindent" >Delete a specific task</p></dd></dl>
<!--l. 185--><p class="noindent" >
</p>
   <h4 class="subsectionHead"><span class="titlemark">4.4    </span> <a 
 id="x1-120004.4"></a>JSON-RPC</h4>
<!--l. 186--><p class="noindent" >A JSON RPC is another RPC based API based around communication via JSON. When deciding whether to use an
RPC-based API or a REST/SOAP based API, the common distinction to make is that RPC APIs should be action
based, i.e. I want to do X. Whereas REST/SOAP APIs are Create Read Update Delete (CRUD) based for providing a
interface to mutable data.
                                                                                                    
                                                                                                    
</p><!--l. 191--><p class="noindent" >
</p>
   <h4 class="subsectionHead"><span class="titlemark">4.5    </span> <a 
 id="x1-130004.5"></a>GraphQL</h4>
<!--l. 192--><p class="noindent" >GraphQL is a query language which allows more dynamic querying of data than REST based APIs. You can create
nested queries and specify the fields you want to receive in response. GraphQL APIs are well-suited for building
APIs designed for developers to consume but when dealing with rigid inter-service based requests, REST APIs are
generally preferable.
</p><!--l. 197--><p class="noindent" >
</p>
   <h4 class="subsectionHead"><span class="titlemark">4.6    </span> <a 
 id="x1-140004.6"></a>gRPC</h4>
<!--l. 198--><p class="noindent" >Another RPC framework, gRPC has started gaining a lot of attention since its first release in 2016. gRPC is based
on the protobuf communication standard. In addition to a more type-safe system, gRPC based APIs provide
authentication and streaming mechanisms.
</p><!--l. 203--><p class="noindent" >
</p>
   <h3 class="sectionHead"><span class="titlemark">5    </span> <a 
 id="x1-150005"></a>Creating our own Todo app</h3>
<!--l. 205--><p class="noindent" >
</p>
   <h4 class="subsectionHead"><span class="titlemark">5.1    </span> <a 
 id="x1-160005.1"></a>The API design</h4>
   <div class="tcolorbox tcolorbox" id="tcolobox-2">    
<div class="tcolorbox-title">
   </div> 
<div class="tcolorbox-content"><!--l. 207--><p class="noindent" >TODO: Add description of all the API endpoints </p> 
</div> 
</div>
<!--l. 209--><p class="noindent" >
</p>
   <h4 class="subsectionHead"><span class="titlemark">5.2    </span> <a 
 id="x1-170005.2"></a>Implementation with Flask</h4>
   <div class="tcolorbox tcolorbox" id="tcolobox-3">    
<div class="tcolorbox-title">
   </div> 
<div class="tcolorbox-content"><!--l. 211--><p class="noindent" >TODO: getting our github repo going </p> 
</div> 
</div>                                                                                                                      <div class="tcolorbox tcolorbox" id="tcolobox-4">  
 
<div class="tcolorbox-title">
   </div> 
<div class="tcolorbox-content"><!--l. 212--><p class="noindent" >TODO: Intro to getting python up and running </p> 
</div> 
</div>                                                                                                    <div class="tcolorbox tcolorbox" id="tcolobox-5">  
 
<div class="tcolorbox-title">
   </div> 
<div class="tcolorbox-content"><!--l. 213--><p class="noindent" >TODO: Intro to flask </p> 
</div> 
</div>                                                                                                                                                    <div class="tcolorbox tcolorbox" id="tcolobox-6">  
 
<div class="tcolorbox-title">
   </div> 
<div class="tcolorbox-content"><!--l. 214--><p class="noindent" >TODO: returning json with flask </p> 
</div> 
</div>                                                                                                                               <div class="tcolorbox tcolorbox" id="tcolobox-7">  
 
<div class="tcolorbox-title">
   </div> 
<div class="tcolorbox-content"><!--l. 215--><p class="noindent" >TODO: Calling your api locally </p> 
</div> 
</div>
<!--l. 1--><p class="noindent" >
</p>
   <h3 class="likesectionHead"><a 
 id="x1-18000"></a>References</h3>
                                                                                                    
                                                                                                    
<!--l. 1--><p class="noindent" >
   </p><div class="thebibliography">
   <p class="bibitem" ><span class="biblabel">
 [1]<span class="bibsp">&#x00A0;&#x00A0;&#x00A0;</span></span><a 
 id="Xdata-intensive"></a>M.&#x00A0;Kleppmann,  <span 
class="Cabin-Italic-tlf-t1-x-x-120">Designing  Data-Intensive  Applications:  The  big  ideas  behind  reliable,  scalable,  and</span>
   <span 
class="Cabin-Italic-tlf-t1-x-x-120">maintainable systems</span>. O&#8217;Reilly Media, Inc., March 2017.
</p>
   </div>
   <div class="footnotes"><a 
 id="x1-2002x2"></a>
<!--l. 39--><p class="indent" >       <span class="footnote-mark"><a 
href="#fn1x0-bk" id="fn1x0"><sup class="textsuperscript">1</sup></a></span><span 
class="Cabin-Regular-tlf-t1-">Current estimates are that Google requires over a million servers</span></p><a 
 id="x1-4002x3.1"></a>
<!--l. 58--><p class="indent" >        <span class="footnote-mark"><a 
href="#fn2x0-bk" id="fn2x0"><sup class="textsuperscript">2</sup></a></span>    <a 
href="https://en.wikipedia.org/wiki/List_of_XML_markup_languages" class="url" ><span 
class="ectt-1000">https://en.wikipedia.org/wiki/List_of_XML_markup_languages</span></a></p><a 
 id="x1-5002x3.2"></a>
<!--l. 87--><p class="indent" >   <span class="footnote-mark"><a 
href="#fn3x0-bk" id="fn3x0"><sup class="textsuperscript">3</sup></a></span>    <a 
href="https://json-schema.org/" class="url" ><span 
class="ectt-1000">https://json-schema.org/</span></a></p><a 
 id="x1-6002x3.3"></a>
<!--l. 103--><p class="indent" >   <span class="footnote-mark"><a 
href="#fn4x0-bk" id="fn4x0"><sup class="textsuperscript">4</sup></a></span>    <a 
href="https://msgpack.org/" class="url" ><span 
class="ectt-1000">https://msgpack.org/</span></a></p>                                                                        </div>
 
</body></html> 

                                                                                                    


