Last Updated on 2023/02/26      

<?xml version="1.0" encoding="iso-8859-1" ?> 
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">  
<!--http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd-->  
<html xmlns="http://www.w3.org/1999/xhtml"  
> 
<head> <title>Pipeline Architecture</title> 
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /> 
<meta name="generator" content="TeX4ht (https://tug.org/tex4ht/)" /> 
<meta name="originator" content="TeX4ht (https://tug.org/tex4ht/)" /> 
<!-- fn-in,html,htex4ht,xhtml --> 
<meta name="src" content="main.tex" /> 
<link rel="stylesheet" type="text/css" href="main.css" /> 
<link rel="stylesheet" href="https://latex.now.sh/style.css"> 
<link rel="stylesheet" href="/notes.css"> 
<style>body {max-width: 100ch;} 
dl dd {text-align: left}</style> 
</head><body 
>
   <div class="maketitle"><a 
 id="Q1-1-1"></a>
_________________________________________________________________________________________________
<h2 class="titleHead">Pipeline Architecture</h2>                                                                    Software Architecture
   <div class="date" >March 6, 2023</div>                                                                                                                          <div class="author" >Brae Webb &amp; Richard
Thomas</div>
____________________________________________________________________________________________
   </div>
   <h3 class="sectionHead"><span class="titlemark">1    </span> <a 
 id="x1-10001"></a>Introduction</h3>
<!--l. 9--><p class="noindent" >Pipeline architectures take the attribute of modularity of a system to the extreme. Pipeline architectures are
composed of small well-designed components which can ideally be combined interchangeably. In a pipeline
architecture, input is passed through a sequence of components until the desired output is reached.
Almost every developer will have been exposed to software which implements this architecture.
Some notable examples are bash, hadoop, some older compilers, and most functional programming
languages.
<a 
 id="x1-1001r1"></a>
</p>
   <div class="tcolorbox tcolorbox" id="tcolobox-1">    
<div class="tcolorbox-title">
   </div> 
<div class="tcolorbox-content"><!--l. 15--><p class="noindent" ><span 
class="Cabin-Bold-tlf-t1-x-x-120">Definition</span><span 
class="Cabin-Bold-tlf-t1-x-x-120">&#x00A0;1. Pipeline Architecture</span>
</p><!--l. 16--><p class="noindent" >Components connected in such a way that the output of one component is the input of another. </p> 
</div> 
</div>
   <hr class="figure" /><div class="figure" 
>
                                                                                                    
                                                                                                    
<a 
 id="x1-1002r1"></a>
                                                                                                    
                                                                                                    
<!--l. 35--><p class="noindent" ><object data="main-1.svg" width="613.93509 " height="39.47014 " type="image/svg+xml"><p>SVG-Viewer needed.</p></object>
<br /> </p><div class="caption" 
><span class="id">Figure&#x00A0;1: </span><span  
class="content">An example of using bash&#8217;s pipeline architecture to perform statistical analysis.</span></div><!--tex4ht:label?: x1-1002r1 -->
                                                                                                    
                                                                                                    
   </div><hr class="endfigure" />
<!--l. 40--><p class="indent" >   The de-facto example of a well-implemented pipeline architecture is bash, we will explore the
philosophy that supports the architecture shortly. The above diagram represents the bash command,
</p><div class="framedenv" id="shaded*-1">
   <!--l. 42-->
<pre class="lstlisting" id="listing-1"><span class="label"><a 
 id="x1-1003r1"></a></span><span style="color:#000000"><tspan font-family="\ectt" font-size="\1200">$</tspan></span><span style="color:#000000"> </span><span style="color:#000000"><tspan font-family="\ectt" font-size="\1200">cat</tspan></span><span style="color:#000000"> </span><span style="color:#000000"><tspan font-family="\ectt" font-size="\1200">assignment</tspan></span><span style="color:#000000"><tspan font-family="\ectt" font-size="\1200">.</tspan></span><span style="color:#000000"><tspan font-family="\ectt" font-size="\1200">py</tspan></span><span style="color:#000000"> </span><span style="color:#000000"><tspan font-family="\ectt" font-size="\1200">|</tspan></span><span style="color:#000000"> </span><span style="color:#000000"><tspan font-family="\ectt" font-size="\1200">grep</tspan></span><span style="color:#000000"> </span><span style="color:#669900"><tspan font-family="\ectt" font-size="\1200">"</tspan></span><span style="color:#669900"><tspan font-family="\ectt" font-size="\1200">f</tspan></span><span style="color:#669900"><tspan font-family="\ectt" font-size="\1200">***</tspan></span><span style="color:#669900"><tspan font-family="\ectt" font-size="\1200">"</tspan></span><span style="color:#000000"> </span><span style="color:#000000"><tspan font-family="\ectt" font-size="\1200">|</tspan></span><span style="color:#000000"> </span><span style="color:#000000"><tspan font-family="\ectt" font-size="\1200">wc</tspan></span><span style="color:#000000"> </span><span style="color:#000000"><tspan font-family="\ectt" font-size="\1200">-</tspan></span><span style="color:#000000"><tspan font-family="\ectt" font-size="\1200">l</tspan></span><span style="color:#000000"> </span><span style="color:#000000"><tspan font-family="\ectt" font-size="\1200">|</tspan></span><span style="color:#000000"> </span><span style="color:#000000"><tspan font-family="\ectt" font-size="\1200">tee</tspan></span><span style="color:#000000"> </span><span style="color:#000000"><tspan font-family="\ectt" font-size="\1200">anger</tspan></span><span style="color:#000000"><tspan font-family="\ectt" font-size="\1200">.</tspan></span><span style="color:#000000"><tspan font-family="\ectt" font-size="\1200">txt</tspan></span><tspan font-family="\ectt" font-size="\1200">&#x00A0;</tspan></pre>
   </div>.
<!--l. 44--><p class="noindent" >If you are unfamiliar with Unix processes (start learning quick!).
      </p><dl class="description"><dt class="description">
      <!--l. 47--><p class="noindent" >
<tspan font-family="\Cabin-Bold-tlf-t1" font-size="\">cat</tspan> </p></dt><dd 
class="description">
      <!--l. 47--><p class="noindent" >Send the contents of a file to the output.
      </p></dd><dt class="description">
      <!--l. 48--><p class="noindent" >
<tspan font-family="\Cabin-Bold-tlf-t1" font-size="\">grep</tspan> </p></dt><dd 
class="description">
      <!--l. 48--><p class="noindent" >Send all lines of the input matching a pattern to the output.
      </p></dd><dt class="description">
      <!--l. 49--><p class="noindent" >
<tspan font-family="\Cabin-Bold-tlf-t1" font-size="\">wc -l</tspan> </p></dt><dd 
class="description">
      <!--l. 49--><p class="noindent" >Send the number of lines in the input to the output.
      </p></dd><dt class="description">
      <!--l. 50--><p class="noindent" >
<tspan font-family="\Cabin-Bold-tlf-t1" font-size="\">tee</tspan> </p></dt><dd 
class="description">
      <!--l. 50--><p class="noindent" >Send the input to stdout and a file.</p></dd></dl>
   <h3 class="sectionHead"><span class="titlemark">2    </span> <a 
 id="x1-20002"></a>Terminology</h3>
<!--l. 55--><p class="noindent" >As illustrated by Figure <a 
href="#x1-2001r2">2<!--tex4ht:ref: fig:pipe-filter --></a>, a pipeline architecture consists of just two elements;
</p><!--l. 58--><p class="indent" >
      </p><dl class="description"><dt class="description">
      <!--l. 58--><p class="noindent" >
<tspan font-family="\Cabin-Bold-tlf-t1" font-size="\">Filters</tspan> </p></dt><dd 
class="description">
      <!--l. 58--><p class="noindent" >modular software components, and
      </p></dd><dt class="description">
      <!--l. 59--><p class="noindent" >
<tspan font-family="\Cabin-Bold-tlf-t1" font-size="\">Pipes</tspan> </p></dt><dd 
class="description">
      <!--l. 59--><p class="noindent" >the transmission of data between filters.</p></dd></dl>
   <hr class="figure" /><div class="figure" 
>
                                                                                                    
                                                                                                    
<a 
 id="x1-2001r2"></a>
                                                                                                    
                                                                                                    
<!--l. 75--><p class="noindent" ><object data="main-2.svg" width="381.96848 " height="46.27914 " type="image/svg+xml"><p>SVG-Viewer needed.</p></object>
<br /> </p><div class="caption" 
><span class="id">Figure&#x00A0;2: </span><span  
class="content">A generic pipeline architecture.</span></div><!--tex4ht:label?: x1-2001r2 -->
                                                                                                    
                                                                                                    
   </div><hr class="endfigure" />
<!--l. 80--><p class="noindent" >Filters themselves are composed of four major types:
      </p><dl class="description"><dt class="description">
      <!--l. 83--><p class="noindent" >
<tspan font-family="\Cabin-Bold-tlf-t1" font-size="\">Producers</tspan> </p></dt><dd 
class="description">
      <!--l. 83--><p class="noindent" >Filters from which data originates are called producers, or source filters.
      </p></dd><dt class="description">
      <!--l. 84--><p class="noindent" >
<tspan font-family="\Cabin-Bold-tlf-t1" font-size="\">Transformers</tspan> </p></dt><dd 
class="description">
      <!--l. 84--><p class="noindent" >Filters which manipulate input data and output to the outgoing pipe are called transformers.
      </p></dd><dt class="description">
      <!--l. 85--><p class="noindent" >
<tspan font-family="\Cabin-Bold-tlf-t1" font-size="\">Testers</tspan> </p></dt><dd 
class="description">
      <!--l. 85--><p class="noindent" >Filters which apply selection to input data, allowing only a subset of input data to progress to the
      outgoing pipe are called testers.
      </p></dd><dt class="description">
      <!--l. 86--><p class="noindent" >
<tspan font-family="\Cabin-Bold-tlf-t1" font-size="\">Consumers</tspan> </p></dt><dd 
class="description">
      <!--l. 86--><p class="noindent" >The final state of a pipeline architecture is a consumer filter, where data is eventually used.</p></dd></dl>
<!--l. 89--><p class="indent" >   The example in Figure <a 
href="#x1-1002r1">1<!--tex4ht:ref: fig:bash-example --></a> shows how bash&#8217;s pipeline architecture can be used to manipulate data in Unix files.
Figure <a 
href="#x1-2002r3">3<!--tex4ht:ref: fig:bash-example-labelled --></a> labels the bash command using the terminology of pipeline architectures.
</p>
   <hr class="figure" /><div class="figure" 
>
                                                                                                    
                                                                                                    
<a 
 id="x1-2002r3"></a>
                                                                                                    
                                                                                                    
<!--l. 107--><p class="noindent" ><object data="main-3.svg" width="613.93509 " height="62.48224 " type="image/svg+xml"><p>SVG-Viewer needed.</p></object>
<br /> </p><div class="caption" 
><span class="id">Figure&#x00A0;3: </span><span  
class="content">Figure <a 
href="#x1-1002r1">1<!--tex4ht:ref: fig:bash-example --></a> with labelled filter types.</span></div><!--tex4ht:label?: x1-2002r3 -->
                                                                                                    
                                                                                                    
   </div><hr class="endfigure" />
   <h3 class="sectionHead"><span class="titlemark">3    </span> <a 
 id="x1-30003"></a>Pipeline Principles</h3>
<!--l. 113--><p class="noindent" >While the concept of a pipeline architecture is straightforward, there are some principles which should be
maintained to produce a well-designed and re-usable architecture.
<a 
 id="x1-3001r2"></a>
</p>
   <div class="tcolorbox tcolorbox" id="tcolobox-2">    
<div class="tcolorbox-title">
   </div> 
<div class="tcolorbox-content"><!--l. 116--><p class="noindent" ><tspan font-family="\Cabin-Bold-tlf-t1" font-size="\">Definition</tspan><tspan font-family="\Cabin-Bold-tlf-t1" font-size="\">&#x00A0;2. One Direction Principle</tspan>
</p><!--l. 117--><p class="noindent" >Data should flow in one direction, this is <tspan font-family="\Cabin-Italic-tlf-t1" font-size="\">downstream</tspan>. </p> 
</div> 
</div>
<!--l. 120--><p class="indent" >   The data in a pipeline architecture should all flow in the same direction. Pipelines should not have loops nor
should filters pass data back to their <tspan font-family="\Cabin-Italic-tlf-t1" font-size="\">upstream </tspan>or input filter. The data flow <tspan font-family="\Cabin-Italic-tlf-t1" font-size="\">is </tspan>allowed to split into multiple paths.
For example, figure <a 
href="#x1-3002r4">4<!--tex4ht:ref: fig:analytics --></a> demonstrates a potential architecture of a software which processes the stream of user
activity on a website. The pipeline is split into a pipeline which aggregates activity on the current page and a
pipeline which records the activity of this specific user.
</p>
   <hr class="figure" /><div class="figure" 
>
                                                                                                    
                                                                                                    
<a 
 id="x1-3002r4"></a>
                                                                                                    
                                                                                                    
<!--l. 128--><p class="noindent" ><img 
src="diagrams/activity-tracking.png" alt="PIC"  
width="420" height="258"  />
<br /> </p><div class="caption" 
><span class="id">Figure&#x00A0;4: </span><span  
class="content">Pipeline architecture for processing activity on a website for later analytics.</span></div><!--tex4ht:label?: x1-3002r4 -->
                                                                                                    
                                                                                                    
   </div><hr class="endfigure" />
<!--l. 133--><p class="indent" >   The One Direction Principle makes the pipeline architecture a poor choice for applications which require
interactivity, as the results are not propagated back to the input source. However, it is a good choice when you
have data which needs processing with no need for interactive feedback.
<a 
 id="x1-3003r3"></a>
</p>
   <div class="tcolorbox tcolorbox" id="tcolobox-3">    
<div class="tcolorbox-title">
   </div> 
<div class="tcolorbox-content"><!--l. 137--><p class="noindent" ><tspan font-family="\Cabin-Bold-tlf-t1" font-size="\">Definition</tspan><tspan font-family="\Cabin-Bold-tlf-t1" font-size="\">&#x00A0;3. Independent Filter Principle</tspan>
</p><!--l. 138--><p class="noindent" >Filters should not rely on specific upstream or downstream components. </p> 
</div> 
</div>
<!--l. 141--><p class="indent" >   In order to maintain the reusability offered by the pipeline architecture, it is important to remove
dependencies between individual filters. Where possible, filters should be able to be moved freely. In the example
architecture in figure <a 
href="#x1-3002r4">4<!--tex4ht:ref: fig:analytics --></a>, the EventCache component should be able to work fine without the TagTime
component. Likewise, EventCache should be able to process data if the Anonymize filter is placed before
it.
</p><!--l. 150--><p class="indent" >   Producers and consumers may assume that they have no upstream or downstream filters respectively.
However, a producer should be indifferent to which downstream filter it feeds into. Likewise a consumer should
not depend on the upstream filter.
<a 
 id="x1-3004r1"></a>
</p>
   <div class="tcolorbox tcolorbox" id="tcolobox-4">    
<div class="tcolorbox-title">
   </div> 
<div class="tcolorbox-content"><!--l. 154--><p class="noindent" ><tspan font-family="\Cabin-Bold-tlf-t1" font-size="\">Corollary</tspan><tspan font-family="\Cabin-Bold-tlf-t1" font-size="\">&#x00A0;1. Generic Interface</tspan>
</p><!--l. 155--><p class="noindent" >The interface between filters should be generic. </p> 
</div> 
</div>
<!--l. 158--><p class="indent" >   Corollary <a 
href="#x1-3004r1">1<!--tex4ht:ref: interface --></a> follows from definition <a 
href="#x1-3003r3">3<!--tex4ht:ref: independent --></a>. In order to reduce the dependence on specific filters, all filters of a system
should implement a generic interface. For example, in bash, filters interface through the piping of raw text data. All
Unix processes should support raw text input and output.
<a 
 id="x1-3005r2"></a>
</p>
   <div class="tcolorbox tcolorbox" id="tcolobox-5">    
<div class="tcolorbox-title">
   </div> 
<div class="tcolorbox-content"><!--l. 164--><p class="noindent" ><tspan font-family="\Cabin-Bold-tlf-t1" font-size="\">Corollary</tspan><tspan font-family="\Cabin-Bold-tlf-t1" font-size="\">&#x00A0;2. Composable Filters</tspan>
</p><!--l. 165--><p class="noindent" >Filters (i.e. Transformers &amp; Testers) can be applied in any order. </p> 
</div> 
</div>
<!--l. 168--><p class="indent" >   Corollary <a 
href="#x1-3005r2">2<!--tex4ht:ref: composable --></a> also follows from definition <a 
href="#x1-3003r3">3<!--tex4ht:ref: independent --></a>. If filters are independent they can be linked together in any order.
This means that a software designer can deliver different behaviour based on the order in which filters are
linked. For example, in bash, applying a tester before or after a transformer can lead to different
results.
</p>
   <h3 class="sectionHead"><span class="titlemark">4    </span> <a 
 id="x1-40004"></a>Conclusion</h3>
<!--l. 175--><p class="noindent" >A pipeline architecture is a good choice for data processing when interactivity is not a concern. Conceptually
pipelines are very simple. Following the principles of a pipeline architecture will deliver a modular system which
supports high reuse.
</p>
    
</body></html> 

                                                                                                    


